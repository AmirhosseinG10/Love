<!doctype html>
<html lang="fa" dir="rtl">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>ุฏุงุณุชุงู ุชุนุงูู โ ฺฉ ุณูุฑูพุฑุงุฒ ุจุฑุง ุณุงู</title>
    <!-- Bootstrap 5 CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.rtl.min.css" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/public.css">
    <style>
        :root {
            --accent: #f6c84c;
            --accent-dark: #e6b33a
        }

        body {
            background: linear-gradient(180deg, #fff9c4 0%, #fff2b8 100%);
            font-family: "Iranian-Sans", sans-serif;
        }

        .card-choice {
            cursor: pointer;
            transition: transform .18s ease, box-shadow .18s ease
        }

        .card-choice:hover {
            transform: translateY(-6px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, .12)
        }

        .hidden {
            display: none
        }

        .sun-emoji {
            font-size: 2.4rem
        }

        .flower-icon {
            font-size: 2.2rem
        }

        .fade-in {
            animation: fadeIn .6s ease both
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(8px)
            }

            to {
                opacity: 1;
                transform: none
            }
        }

        .choice-btn {
            background: linear-gradient(90deg, var(--accent), var(--accent-dark));
            color: #222;
            border: none
        }

        .choice-btn:focus {
            box-shadow: none
        }

        .story-area {
            min-height: 260px
        }

        footer {
            position: fixed;
            left: 1rem;
            bottom: 1rem
        }
    </style>
</head>

<body>
    <div class="container py-5">
        <div class="row justify-content-center">
            <div class="col-12 col-md-9 col-lg-7">
                <div class="card mb-3 border-0 shadow-sm">
                    <div class="card-body text-center">
                        <h1 class="card-title mb-1">๐ซ ฺฉ ุณูุฑูพุฑุงุฒ ุจุฑุง ุณุงู</h1>
                        <p class="text-muted mb-3">ฺฉ ุฏุงุณุชุงู ุชุนุงูู ฺฉูุชุงู: ุงูุชุฎุงุจโูุง ุชู ูุณุฑ ุฏุงุณุชุงู ุฑู ุดฺฉู ูโุฏู. ูุฑ
                            ุฑุงู ุจู ฺฉ ูพุงู ุนุงุดูุงูู ุฎุชู ูโุดู.</p>
                        <div id="stage" class="story-area">
                            <!-- ูุฑุญูู ุงููู -->
                            <div id="intro" class="fade-in">
                                <p class="lead">ุฑูุฒ ฺฉ ูพุณุฑ ุชุตูู ฺฏุฑูุช ุนุดูุด ุฑู ุณูุฑูพุฑุงุฒ ฺฉูู... ุญุงูุง ฺ ฺฉุงุฑ ฺฉููุ</p>
                                <div class="row g-3 mt-3">
                                    <div class="col-12 col-md-4">
                                        <div class="card card-choice h-100" data-choice="flower">
                                            <div class="card-body">
                                                <div class="flower-icon">๐ป</div>
                                                <h5 class="card-title mt-2">ุจุฑุงุด ฺฏู ุจุฎุฑู</h5>
                                                <p class="card-text text-muted small">ู ูุฏูู ุณุงุฏู ุงูุง ุฏููุดู.</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12 col-md-4">
                                        <div class="card card-choice h-100" data-choice="site">
                                            <div class="card-body">
                                                <div class="flower-icon">๐ป</div>
                                                <h5 class="card-title mt-2">ู ุณุงุช ุจุณุงุฒู</h5>
                                                <p class="card-text text-muted small">ุขูุฏูโูฺฏุฑุ ฺุฒ ฺฉู ููุดู ุจูููู.
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12 col-md-4">
                                        <div class="card card-choice h-100" data-choice="poem">
                                            <div class="card-body">
                                                <div class="flower-icon">โ๏ธ</div>
                                                <h5 class="card-title mt-2">ู ุดุนุฑ ุจููุณู</h5>
                                                <p class="card-text text-muted small">ูุงฺูโูุง ููุจ ุฑู ูุฑู ูโฺฉูู.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- ุจุฎุดโูุง ูุณุฑูุง -->
                            <div id="branch-flower" class="hidden">
                                <div class="mb-3 fade-in">
                                    <h4>๐ป ุงูุชุฎุงุจ: ฺฏู</h4>
                                    <p class="text-muted">ุงู ฺฏู ุฑุง ฺฏุฑูุชุ ุงูุง ูโุฎูุงุณุช ุงู ฺฏู ูฺู ุจุงุดุฏ. ฺู ููุน ฺฏู ุจุฎุฑุฏุ
                                    </p>
                                </div>
                                <div class="row g-3">
                                    <div class="col-6">
                                        <button class="btn choice-btn w-100" data-next="flower-1">ฺฏู ุขูุชุงุจฺฏุฑุฏูู</button>
                                    </div>
                                    <div class="col-6">
                                        <button class="btn choice-btn w-100" data-next="flower-2">ฺฏู ุฑุฒ ูุฑูุฒ</button>
                                    </div>
                                    <div class="col-6 mt-2">
                                        <button class="btn btn-outline-dark w-100" data-next="flower-3">ุณุจุฏ ฺฏู
                                            ฺฉูฺฺฉ</button>
                                    </div>
                                    <div class="col-6 mt-2">
                                        <button class="btn btn-outline-dark w-100" data-next="flower-4">ุฏุณุชโุณุงุฒ
                                            (ฺฉุงุบุฐ)</button>
                                    </div>
                                </div>
                            </div>

                            <div id="branch-site" class="hidden">
                                <div class="mb-3 fade-in">
                                    <h4>๐ป ุงูุชุฎุงุจ: ุณุงุช</h4>
                                    <p class="text-muted">ุงู ุณุงุช ุฑุง ุณุงุฎุชุ ุญุงูุง ฺู ูุญุชูุง ุฑุง ุฏุฑ ุตูุญู ุงูู ูุฑุงุฑ ุฏูุฏุ</p>
                                </div>
                                <div class="row g-3">
                                    <div class="col-6"><button class="btn choice-btn w-100" data-next="site-1">ฑตฐ ุฏูู
                                            ุนุงุดูุงูู</button></div>
                                    <div class="col-6"><button class="btn choice-btn w-100" data-next="site-2">ฺฏุงูุฑ
                                            ุนฺฉุณโูุง</button></div>
                                    <div class="col-6 mt-2"><button class="btn btn-outline-dark w-100"
                                            data-next="site-3">ูุฏู ุฎุงุทุฑุงุช</button></div>
                                    <div class="col-6 mt-2"><button class="btn btn-outline-dark w-100"
                                            data-next="site-4">ุจุงุฒ ุชุนุงูู</button></div>
                                </div>
                            </div>

                            <div id="branch-poem" class="hidden">
                                <div class="mb-3 fade-in">
                                    <h4>โ๏ธ ุงูุชุฎุงุจ: ุดุนุฑ</h4>
                                    <p class="text-muted">ุงู ุดุฑูุน ุจู ููุดุชู ฺฉุฑุฏ. ฺู ูุญู ู ุณุจฺฉ ุดุนุฑ ุฑุง ุงูุชุฎุงุจ ฺฉูุฏุ</p>
                                </div>
                                <div class="row g-3">
                                    <div class="col-6"><button class="btn choice-btn w-100" data-next="poem-1">ุฑูุงูุชฺฉ
                                            ฺฉูุงุณฺฉ</button></div>
                                    <div class="col-6"><button class="btn choice-btn w-100" data-next="poem-2">ุดุนุฑ ฺฉูุชุงู
                                            ูุฏุฑู</button></div>
                                    <div class="col-6 mt-2"><button class="btn btn-outline-dark w-100"
                                            data-next="poem-3">ุดุนุฑ ฺฉูุฏฺฉุงูู ุดุงุฏ</button></div>
                                    <div class="col-6 mt-2"><button class="btn btn-outline-dark w-100"
                                            data-next="poem-4">ุฑุจุงุน ูุฎุชุตุฑ</button></div>
                                </div>
                            </div>

                            <!-- ุตูุญุงุช ูุชุฌูโุง ฺฉู ููู ุจู ฺฉ ูพุงู ูโุฑุณูุฏ -->
                            <template id="result-template">
                                <div class="fade-in text-center">
                                    <h3 id="result-title"></h3>
                                    <p id="result-text" class="text-muted"></p>
                                    <div class="my-3">
                                        <div style="font-size:3rem">๐ป</div>
                                    </div>
                                    <p class="small text-muted">ูโุชูุงูุฏ ุงู ุฏุงุณุชุงู ุฑุง ุฏูุจุงุฑู ุจุงุฒ ฺฉูุฏ ุง ุขู ุฑุง ุจุง
                                        ุณุงู ุจู ุงุดุชุฑุงฺฉ ุจฺฏุฐุงุฑุฏ.</p>
                                    <div class="d-flex justify-content-center gap-2 mt-2">
                                        <button id="restart" class="btn btn-outline-dark">ุชฺฉุฑุงุฑ</button>
                                        <button id="share" class="btn choice-btn">ฺฉูพ ููฺฉ (ูุณุฎู ูุญู)</button>
                                    </div>
                                </div>
                            </template>

                        </div>
                    </div>
                </div>

                <div class="text-center text-muted small">ุทุฑุงุญ ุดุฏู ุจุง โค๏ธ ุจุฑุง ุณุงู
                </div>
            </div>
        </div>
    </div>

    <footer>
        <div class="badge bg-white text-dark">ูุณุฎู ุขุฒูุงุด โ ุงูุฑ</div>
    </footer>

    <script>
        // ุณุงุฏู ูฺฏู ุฏุงุดุชู ููุทู ุฏุงุณุชุงู
        const stage = document.getElementById('stage');
        const intro = document.getElementById('intro');
        const branches = {
            flower: document.getElementById('branch-flower'),
            site: document.getElementById('branch-site'),
            poem: document.getElementById('branch-poem')
        };

        // ูฺฏูุฏุงุฑ ูุณุฑ ุงูุชุฎุงุจโูุง
        const path = [];

        // ฺฉูฺฉ ุฑู ุงูุชุฎุงุจ ุงููู
        document.querySelectorAll('.card-choice').forEach(el => {
            el.addEventListener('click', () => {
                const choice = el.getAttribute('data-choice');
                path.push(choice);
                intro.classList.add('hidden');
                Object.values(branches).forEach(b => b.classList.add('hidden'));
                branches[choice].classList.remove('hidden');
            });
        });

        // ูุฏุฑุช ุฏฺฉููโูุง ุฏุงุฎู
        stage.addEventListener('click', e => {
            const btn = e.target.closest('[data-next]');
            if (!btn) return;
            const next = btn.getAttribute('data-next');
            path.push(next);

            // ุชุตููโฺฏุฑ ุจุฑุง ูุชุฌู ููุง (ูโุชูุงู ุงู ุจุฎุด ุฑุง ฺฏุณุชุฑุด ุจุฏ)
            const resultTitle = document.getElementById('result-title');
            const resultText = document.getElementById('result-text');

            // ุณุงุฏูโุณุงุฒ: ุจุฑ ุงุณุงุณ ฺฉูุฏ ุขุฎุฑ ูพุงู ููุง ุชููุฏ ูุดู
            if (next.startsWith('flower')) {
                resultTitle.textContent = 'ฺฉ ุณุจุฏ ุงุฒ ุขูุชุงุจู ฺฉูฺฺฉ';
                resultText.textContent = 'ุชู ฺฏู ุขูุชุงุจฺฏุฑุฏูู ุฑู ุงูุชุฎุงุจ ฺฉุฑุฏ โ ฺูู ุงู ููุดู ุฎูุฑุดุฏ ุฒูุฏฺฏุชู. ุงู ุญุณู ฺฏุฑู ู ูุทูุฆูุ ููุดู ุจุงูุงุช ููููู.';
            } else if (next.startsWith('site')) {
                resultTitle.textContent = 'ุงุฏฺฏุงุฑู ุฌุงูุฏุงู';
                resultText.textContent = 'ุชู ฺฉ ุณุงุช ุณุงุฎุช ฺฉู ฑตฐ ุฏูู ุง ฺฏุงูุฑ ุฎุงุทุฑุงุช ุฑู ูฺฏู ูโุฏุงุฑู โ ฺุฒ ฺฉู ููุดู ูโุชููู ุนุดู ุฑู ุจู ุงุฏ ุจุงุฑู.';
            } else if (next.startsWith('poem')) {
                resultTitle.textContent = 'ฺฉููุงุชู ููุจ';
                resultText.textContent = 'ุชู ุดุนุฑ ููุดุช ฺฉู ูุณุชูู ุงุฒ ููุจ ฺฏูุช โ ฺฉููุงุช ฺฉู ููุดู ูโุชููู ฺฉ ูุญุธู ุณุงุฏู ุฑู ุฌุงุฏู ฺฉูู.';
            } else {
                resultTitle.textContent = 'ฺฉ ูุฏูู ุณุงุฏู ู ุจุฒุฑฺฏ';
                resultText.textContent = 'ูุฑ ุงูุชุฎุงุจ ฺฉู ฺฉุฑุฏุ ูุดุงูโุฏููุฏูู ุนุดู ู ุชูุฌูุชู โ ููู ฺฉุงูู.';
            }

            // ููุงุด ูุชุฌู
            stage.innerHTML = '';
            const tpl = document.getElementById('result-template');
            stage.appendChild(tpl.content.cloneNode(true));

            // ุฏฺฉููโูุง
            document.getElementById('restart').addEventListener('click', () => location.reload());
            document.getElementById('share').addEventListener('click', () => {
                navigator.clipboard && navigator.clipboard.writeText(location.href);
                alert('ููฺฉ ุตูุญู (ุขุฏุฑุณ ูุญู) ฺฉูพ ุดุฏ โ ุงฺฏุฑ ูุงู ุฑู ุขูพููุฏ ฺฉู ูโุชูู ุงู ููฺฉ ุฑู ุจู ุงุดุชุฑุงฺฉ ุจุฐุงุฑ.');
            });
        });
    </script>
</body>

</html>